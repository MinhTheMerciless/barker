(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[0],{1715:function(e,t,a){var n={"./ReadMe.md":1716,"./af_ZA":133,"./af_ZA.js":133,"./ar":134,"./ar.js":134,"./az":135,"./az.js":135,"./cz":136,"./cz.js":136,"./de":137,"./de.js":137,"./de_AT":138,"./de_AT.js":138,"./de_CH":139,"./de_CH.js":139,"./el":140,"./el.js":140,"./en":141,"./en.js":141,"./en_AU":142,"./en_AU.js":142,"./en_AU_ocker":143,"./en_AU_ocker.js":143,"./en_BORK":144,"./en_BORK.js":144,"./en_CA":145,"./en_CA.js":145,"./en_GB":146,"./en_GB.js":146,"./en_GH":147,"./en_GH.js":147,"./en_IE":148,"./en_IE.js":148,"./en_IND":149,"./en_IND.js":149,"./en_NG":150,"./en_NG.js":150,"./en_US":151,"./en_US.js":151,"./en_ZA":152,"./en_ZA.js":152,"./es":153,"./es.js":153,"./es_MX":154,"./es_MX.js":154,"./fa":155,"./fa.js":155,"./fi":156,"./fi.js":156,"./fr":157,"./fr.js":157,"./fr_CA":158,"./fr_CA.js":158,"./fr_CH":159,"./fr_CH.js":159,"./ge":160,"./ge.js":160,"./hr":161,"./hr.js":161,"./hy":162,"./hy.js":162,"./id_ID":163,"./id_ID.js":163,"./it":164,"./it.js":164,"./ja":165,"./ja.js":165,"./ko":166,"./ko.js":166,"./nb_NO":167,"./nb_NO.js":167,"./ne":168,"./ne.js":168,"./nl":169,"./nl.js":169,"./nl_BE":170,"./nl_BE.js":170,"./pl":171,"./pl.js":171,"./pt_BR":172,"./pt_BR.js":172,"./pt_PT":173,"./pt_PT.js":173,"./ro":174,"./ro.js":174,"./ru":175,"./ru.js":175,"./sk":176,"./sk.js":176,"./sv":177,"./sv.js":177,"./tr":178,"./tr.js":178,"./uk":179,"./uk.js":179,"./vi":180,"./vi.js":180,"./zh_CN":181,"./zh_CN.js":181,"./zh_TW":182,"./zh_TW.js":182,"./zu_ZA":183,"./zu_ZA.js":183};function s(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=i,e.exports=s,s.id=1715},184:function(e,t,a){e.exports=a.p+"static/media/dog.d3963826.mp3"},1842:function(e,t,a){},1843:function(e,t,a){},1844:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(25),r=a.n(i),o=(a(214),a(27)),c=a(28),l=a(37),u=a(30),m=a(29),p={API_URL:"/api/",GET_WHOLE_TWEET_URL:"/api/wholePost/",GET_RANDOM_TWEET_URL:"/api/getRandomTweet/",GET_POST_FROM_ID:"/api/getPostFromID/",GET_POSTER_INFO_URL:"/api/getUserInfo/",GET_VIEWERS_URL:"/api/viewers/",GET_IDs_FROM_VIEWER_URL:"/api/ViewerToId/",GET_EXPLANATION_URL:"/api/getExplanation/"},d=(a(215),a(185)),h=a.n(d);a(216);var f=function(e){var t=e.active,a=e.text,n=e.Icon,i=e.onClick;return s.a.createElement("div",{className:"sidebarOption ".concat(t&&"sidebarOption--active"),onClick:i},s.a.createElement(n,null),s.a.createElement("h2",{className:"text"},a))},_=a(190),v=a.n(_),E=a(52),g=a.n(E),j=a(191),w=a.n(j),N=a(192),b=a.n(N),k=a(193),y=a.n(k),x=a(194),I=a.n(x),O=a(195),L=a.n(O),C=a(196),T=a.n(C),R=a(1874);function S(e){for(var t=e.split(""),a=[],n=t.length,s=0;s<n;s++){var i=Math.floor(Math.random()*t.length);a.push(t[i]),t.splice(i,1)}return a.join("")}var A=a(184),U=a.n(A),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"playAudio",value:function(){document.getElementsByClassName("bark-sound")[0].play()}},{key:"render",value:function(){return s.a.createElement("div",{className:"sidebar"},s.a.createElement(h.a,{className:"sidebar__twitterIcon"}),s.a.createElement(f,{Icon:v.a,text:S("Home")}),s.a.createElement(f,{Icon:g.a,text:S("Explore")}),s.a.createElement(f,{Icon:w.a,text:S("Notifications")}),s.a.createElement(f,{Icon:b.a,text:S("Messages")}),s.a.createElement(f,{Icon:y.a,text:S("Bookmarks")}),s.a.createElement(f,{Icon:I.a,text:S("Lists")}),s.a.createElement(f,{active:!0,Icon:L.a,text:"Profile",onClick:this.props.nextViewer}),s.a.createElement(f,{Icon:T.a,text:S("More")}),s.a.createElement(R.a,{variant:"outlined",className:"sidebar__tweet",onClick:this.playAudio},"Bark"),s.a.createElement("audio",{className:"bark-sound"},s.a.createElement("source",{src:U.a})))}}]),a}(s.a.Component),B=a(41),D=a.n(B),M=a(60),G=(a(239),a(1875)),P=a(197),W=a.n(P).a.initializeApp({apiKey:"AIzaSyCw-li0IscS2rJr68dSjoJL3KM3eFq5PfE",authDomain:"twitter-clone-1faac.firebaseapp.com",databaseURL:"https://twitter-clone-1faac.firebaseio.com",projectId:"twitter-clone-1faac",storageBucket:"twitter-clone-1faac.appspot.com",messagingSenderId:"316208638057",appId:"1:316208638057:web:75a37bf24fab32ff145af8",measurementId:"G-HGFP2LDXP9"}).firestore();var H=function(){var e=Object(n.useState)(""),t=Object(M.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(""),o=Object(M.a)(r,2),c=o[0],l=o[1];return s.a.createElement("div",{className:"tweetBox"},s.a.createElement("form",null,s.a.createElement("div",{className:"tweetBox__input"},s.a.createElement(G.a,{src:"https://kajabi-storefronts-production.global.ssl.fastly.net/kajabi-storefronts-production/themes/284832/settings_images/rLlCifhXRJiT0RoN2FjK_Logo_roundbackground_black.png"}),s.a.createElement("input",{onChange:function(e){return i(e.target.value)},value:a,placeholder:"What's happening?",type:"text"})),s.a.createElement("input",{value:c,onChange:function(e){return l(e.target.value)},className:"tweetBox__imageInput",placeholder:"Optional: Enter image URL",type:"text"}),s.a.createElement(R.a,{onClick:function(e){e.preventDefault(),W.collection("posts").add({displayName:"Rafeh Qazi",username:"cleverqazi",verified:!0,text:a,image:c,avatar:"https://kajabi-storefronts-production.global.ssl.fastly.net/kajabi-storefronts-production/themes/284832/settings_images/rLlCifhXRJiT0RoN2FjK_Logo_roundbackground_black.png"}),i(""),l("")},type:"submit",className:"tweetBox__tweetButton"},"Tweet")))},F=a(59),V=a.n(F),Z=a(198),q=a.n(Z),X=(a(255),a(199)),J=a.n(X),K=a(200),Q=a.n(K),$=a(201),Y=a.n($),ee=a(202),te=a.n(ee),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isFlipped:!1},n.handleClick=n.handleClick.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"handleClick",value:function(e){e.preventDefault(),this.setState((function(e){return{isFlipped:!e.isFlipped}}))}},{key:"render",value:function(){var e,t;V.a.canPlay(this.props.image)?(e=s.a.createElement("div",{className:"player-wrapper"},s.a.createElement(V.a,{url:this.props.image,muted:!0,loop:!0,playing:!1,height:"45vh",width:null},s.a.createElement("div",null))),console.log("play!")):""!==this.props.image&&null!=this.props.image&&(e=s.a.createElement("img",{src:this.props.image,alt:""})),t=""===this.props.explanation||void 0===this.props.explanation?"This Bark current does not have an explanation":this.props.explanation.replace(/(<a href=")?((https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)))(">(.*)<\/a>)?/gi,(function(){return'<a href="'+arguments[2]+'">'+(arguments[7]||arguments[2])+"</a>"}));var a=this.props.text.replace(/(<a href=")?((https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)))(">(.*)<\/a>)?/gi,(function(){return'<a href="'+arguments[2]+'">'+(arguments[7]||arguments[2])+"</a>"})),n=s.a.createElement(q.a,{isFlipped:this.state.isFlipped,flipDirection:"vertical"},s.a.createElement("p",{className:"text",dangerouslySetInnerHTML:{__html:a}}),s.a.createElement("p",{className:"text",dangerouslySetInnerHTML:{__html:t}}));return s.a.createElement("div",{className:"post"},s.a.createElement("div",{className:"post__avatar"},s.a.createElement(G.a,{src:this.props.avatar})),s.a.createElement("div",{className:"post__body"},s.a.createElement("div",{className:"post__header"},s.a.createElement("div",{className:"post__headerText"},s.a.createElement("h3",{onClick:this.handleClick},this.props.displayName," ",s.a.createElement("span",{className:"post__headerSpecial"},this.props.verified&&s.a.createElement(J.a,{className:"post__badge"})," @",this.props.username))),s.a.createElement("div",{className:"post__headerDescription"},n)),e,s.a.createElement("div",{className:"post__footer"},s.a.createElement(Q.a,{fontSize:"small"}),s.a.createElement(Y.a,{fontSize:"small"}),s.a.createElement(te.a,{fontSize:"small"}))))}}]),a}(s.a.Component),ne=(a(256),a(204)),se=a(205);function ie(){return Object(se.a)().schema("user",{firstName:{faker:"name.firstName"},lastName:{faker:"name.lastName"},username:{function:function(){return this.object.firstName+this.object.lastName}},displayName:{function:function(){return this.object.firstName+" "+this.object.lastName}}},1).buildSync().user[0]}var re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addPost=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=function(e){n.setState({loading:!0});var t=n.state.idList.splice(Math.floor(Math.random()*n.state.idList.length),1),a=p.GET_WHOLE_TWEET_URL+t+"/";D.a.get(a).then((function(e){var a=e.data;if(a.username.startsWith("random:")){var s=ie();a.username=s.username,a.displayName=s.displayName}a.image.startsWith("api:")&&(D.a.get(a.image.substring(4)).then((function(e){return a.image=e.data})).catch((function(e){return console.log(e+"\u2014retrieving from "+a.image.substring(4))})),a.image="https://media4.giphy.com/media/3oEjI6SIIHBdRxXI40/200.gif"),a.text.startsWith("[repeat]")&&(a.text=a.text.substring(8),n.state.idList.push(t)),n.setState({posts:n.state.posts.concat(a),loading:!1})})).catch((function(e){return"Error retrieving post: "+e}))},a=0;a<e&&n.state.idList.length>0;a++)t(a)},n.handleScroll=function(e){e.preventDefault();var t=Math.round(e.target.scrollHeight-e.target.scrollTop);n.state.idList.length>0?t<=Math.ceil(e.target.clientHeight)+300&&(!0===n.state.loading?!1===n.state.queue&&(n.state.queue=!0):n.addPost(2)):console.log("Out of posts!")},n.handleClick=function(){n.forceUpdate()},n.state={loading:!1,queue:!1,posts:[],idList:[],viewedList:[]},n}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e,t,a){return!this.state.loading}},{key:"componentDidMount",value:function(){this.addPost()}},{key:"componentDidUpdate",value:function(e){var t=this;if(!0===this.state.queue&&(this.addPost(),this.state.queue=!1),e.viewer!==this.props.viewer){this.setState({posts:[],loading:!0});var a=p.GET_IDs_FROM_VIEWER_URL+this.props.viewer+"/";console.log("Getting IDs from: "+a),D.a.get(a).then((function(e){var a=e.data;console.log(a),t.setState({idList:a}),t.setState({loading:!1}),t.addPost(6)})).catch((function(e){console.log(e)}))}}},{key:"render",value:function(){return s.a.createElement("div",{className:"feed",onScroll:this.handleScroll},s.a.createElement("div",{className:"feed__header"},s.a.createElement("h2",null,"Home")),s.a.createElement(H,null),s.a.createElement(ne.a,null,this.state.posts.map((function(e,t){return s.a.createElement(ae,{key:t,username:e.username,displayName:e.displayName,verified:e.verified,text:e.text,explanation:e.explanation,avatar:e.avatar,image:e.image})}))),s.a.createElement("button",{onClick:this.handleClick,color:"--twitter-color"}," click "))}}]),a}(s.a.Component);a(1842),a(1846);var oe=function(){return s.a.createElement("div",{className:"widgets"},s.a.createElement("div",{className:"widgets__input"},s.a.createElement(g.a,{className:"widgets__searchIcon"}),s.a.createElement("input",{placeholder:"Search Barker",type:"text"})),s.a.createElement("div",{className:"widgets__widgetContainer"},s.a.createElement("h2",null,"What's happening")))},ce=(a(1843),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={viewerNum:0,viewersList:[]},n.nextViewer=n.nextViewer.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;D.a.get(p.GET_VIEWERS_URL).then((function(t){e.setState({viewersList:t.data}),console.log("Recieved users: "+e.state.viewersList)})).catch((function(e){return console.log("Error retrieving viewers list: "+e)}))}},{key:"nextViewer",value:function(){window.scrollTo(0,0),this.state.viewerNum<=this.state.viewersList.length-2?this.setState({viewerNum:this.state.viewerNum+1}):this.setState({viewerNum:0}),console.log("Changed viewer to "+this.state.viewersList[this.state.viewerNum])}},{key:"render",value:function(){return s.a.createElement("html",{lang:"en"},s.a.createElement("div",{className:"app"},s.a.createElement(z,{nextViewer:this.nextViewer}),s.a.createElement(re,{viewer:this.state.viewersList[this.state.viewerNum]}),s.a.createElement(oe,null)))}}]),a}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},209:function(e,t,a){e.exports=a(1844)},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},239:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){}},[[209,14,15]]]);
//# sourceMappingURL=main.e45d7cbb.chunk.js.map