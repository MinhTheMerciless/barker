(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[0],{1661:function(e,t,a){var n={"./ReadMe.md":1662,"./af_ZA":110,"./af_ZA.js":110,"./ar":111,"./ar.js":111,"./az":112,"./az.js":112,"./cz":113,"./cz.js":113,"./de":114,"./de.js":114,"./de_AT":115,"./de_AT.js":115,"./de_CH":116,"./de_CH.js":116,"./el":117,"./el.js":117,"./en":118,"./en.js":118,"./en_AU":119,"./en_AU.js":119,"./en_AU_ocker":120,"./en_AU_ocker.js":120,"./en_BORK":121,"./en_BORK.js":121,"./en_CA":122,"./en_CA.js":122,"./en_GB":123,"./en_GB.js":123,"./en_GH":124,"./en_GH.js":124,"./en_IE":125,"./en_IE.js":125,"./en_IND":126,"./en_IND.js":126,"./en_NG":127,"./en_NG.js":127,"./en_US":128,"./en_US.js":128,"./en_ZA":129,"./en_ZA.js":129,"./es":130,"./es.js":130,"./es_MX":131,"./es_MX.js":131,"./fa":132,"./fa.js":132,"./fi":133,"./fi.js":133,"./fr":134,"./fr.js":134,"./fr_CA":135,"./fr_CA.js":135,"./fr_CH":136,"./fr_CH.js":136,"./ge":137,"./ge.js":137,"./hr":138,"./hr.js":138,"./hy":139,"./hy.js":139,"./id_ID":140,"./id_ID.js":140,"./it":141,"./it.js":141,"./ja":142,"./ja.js":142,"./ko":143,"./ko.js":143,"./nb_NO":144,"./nb_NO.js":144,"./ne":145,"./ne.js":145,"./nl":146,"./nl.js":146,"./nl_BE":147,"./nl_BE.js":147,"./pl":148,"./pl.js":148,"./pt_BR":149,"./pt_BR.js":149,"./pt_PT":150,"./pt_PT.js":150,"./ro":151,"./ro.js":151,"./ru":152,"./ru.js":152,"./sk":153,"./sk.js":153,"./sv":154,"./sv.js":154,"./tr":155,"./tr.js":155,"./uk":156,"./uk.js":156,"./vi":157,"./vi.js":157,"./zh_CN":158,"./zh_CN.js":158,"./zh_TW":159,"./zh_TW.js":159,"./zu_ZA":160,"./zu_ZA.js":160};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=1661},172:function(e,t,a){e.exports=a.p+"static/media/BarkerLogo.fae0bab6.png"},174:function(e,t,a){e.exports=a.p+"static/media/dog.d3963826.mp3"},1816:function(e,t,a){},1817:function(e,t,a){},1818:function(e,t,a){},1819:function(e,t,a){},1820:function(e,t,a){},1821:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(17),r=a.n(s),o=(a(200),a(18)),l=a(19),c=a(22),u=a(21),m=a(20),d={API_URL:"/api/",GET_WHOLE_TWEET_URL:"/api/wholePost/",GET_POST_FROM_ID:"/api/getPostFromID/",GET_VIEWERS_URL:"/api/viewers/",GET_IDs_FROM_VIEWER_URL:"/api/ViewerToId/",GET_ARTICLE_FROM_ID_URL:"/api//article/"};a(201),a(202);var h=function(e){var t=e.active,a=e.text,n=e.Icon,s=e.onClick;return i.a.createElement("div",{className:"sidebarOption ".concat(t&&"sidebarOption--active"),onClick:s},i.a.createElement(n,null),i.a.createElement("h2",{className:"text"},a))},p=a(38),f=a.n(p),v=a(40),_=a.n(v),E=a(179),g=a.n(E),j=a(180),w=a.n(j),k=a(181),b=a.n(k),C=a(182),N=a.n(C),y=a(41),x=a.n(y),I=a(183),O=a.n(I),L=a(1850),T=a(172),S=a.n(T),A=a(48);function R(e){for(var t=e.split(""),a=[],n=t.length,i=0;i<n;i++){var s=Math.floor(Math.random()*t.length);a.push(t[s]),t.splice(s,1)}return a.join("")}function M(){var e=Object(A.a)().schema("item",{date:{faker:"date.past"}},1).buildSync().item[0].date;return console.log("Generated fake date: "+String(e)),e}function D(){return Object(A.a)().schema("user",{firstName:{faker:"name.firstName"},lastName:{faker:"name.lastName"},username:{function:function(){return this.object.firstName+this.object.lastName}},displayName:{function:function(){return this.object.firstName+" "+this.object.lastName}}},1).buildSync().user[0]}var W=a(174),U=a.n(W),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"playAudio",value:function(){document.getElementsByClassName("bark-sound")[0].play()}},{key:"render",value:function(){return i.a.createElement("div",{className:"sidebar"},i.a.createElement("img",{className:"sidebar__twitterIcon",src:S.a,alt:"Barker Icon"}),i.a.createElement(h,{Icon:f.a,text:R("Home")}),i.a.createElement(h,{Icon:_.a,text:R("Explore")}),i.a.createElement(h,{Icon:g.a,text:R("Notifications")}),i.a.createElement(h,{Icon:w.a,text:R("Messages")}),i.a.createElement(h,{Icon:b.a,text:R("Bookmarks")}),i.a.createElement(h,{Icon:N.a,text:R("Lists")}),i.a.createElement(h,{active:!0,Icon:x.a,text:"Profile",onClick:this.props.nextViewer}),i.a.createElement(h,{Icon:O.a,text:R("More")}),i.a.createElement(L.a,{variant:"outlined",className:"sidebar__tweet",onClick:this.playAudio},"Bark"),i.a.createElement("audio",{className:"bark-sound"},i.a.createElement("source",{src:U.a})))}}]),a}(i.a.Component),G=a(24),B=a.n(G),P=a(47),H=a.n(P),F=a(184),V=a.n(F),Z=a(185),q=a.n(Z),X=(a(1816),a(1851)),J=a(1852),K=a(186),$=a.n(K),Q=a(187),Y=a.n(Q),ee=a(188),te=a.n(ee),ae=a(189),ne=a.n(ae),ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isFlipped:!1,isPaused:!1},n.handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"handleClick",value:function(e){e.preventDefault(),this.setState((function(e){return{isFlipped:!e.isFlipped}}))}},{key:"render",value:function(){var e,t,a=this,n=String(this.props.image);if(n.startsWith("news:")){var s=[window.location.origin,"news",n.substring(5)].join("/");e=i.a.createElement("a",{className:"news__a",href:s,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(X.a,{body:!0,className:"news__card"},"This is a blurb of the news article"))}else H.a.canPlay(n)?(e=i.a.createElement(q.a,{onChange:this.visibilityChange},(function(e){var t,s,r=e.isVisible;return window.innerWidth<420?(s="auto",t="70vw"):window.innerWidth<1024?(s="20vw",t="35vw"):(s="40vh",t="90%"),i.a.createElement("div",{className:"player-wrapper"},i.a.createElement(H.a,{height:s,width:t,url:n,loop:!0,muted:!0,playing:r&&!a.state.isPaused,onClick:function(){return a.setState({isPaused:!0})},config:{youtube:{playerVars:{controls:1,disablekb:1,modestbranding:1,rel:0,color:"white"}}}},i.a.createElement("div",null)))})),console.log("play!")):e=""===n||null==n?"":i.a.createElement("img",{src:n,alt:""});t=""===this.props.explanation||void 0===this.props.explanation?"This Bark current does not have an explanation":this.props.explanation.replace(/(<a href=")?((https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)))(">(.*)<\/a>)?/gi,(function(){return'<a href="'+arguments[2]+'" target="_blank">'+(arguments[7]||arguments[2])+"</a>"}));var r=this.props.text.replace(/(<a href=")?((https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)))(">(.*)<\/a>)?/gi,(function(){return'<a href="'+arguments[2]+'"target="_blank">'+(arguments[7]||arguments[2])+"</a>"})),o=i.a.createElement(V.a,{isFlipped:this.state.isFlipped,flipDirection:"vertical"},i.a.createElement("p",{className:"text",dangerouslySetInnerHTML:{__html:r}}),i.a.createElement("p",{className:"text",dangerouslySetInnerHTML:{__html:t}}));return i.a.createElement("div",{className:"post"},i.a.createElement("div",{className:"post__avatar"},i.a.createElement(J.a,{src:this.props.avatar})),i.a.createElement("div",{className:"post__body"},i.a.createElement("div",{className:"post__header"},i.a.createElement("div",{className:"post__headerText"},i.a.createElement("h3",{onClick:this.handleClick},this.props.displayName," ",i.a.createElement("span",{className:"post__headerSpecial"},this.props.verified&&i.a.createElement($.a,{className:"post__badge"})," @",this.props.username))),i.a.createElement("div",{className:"post__headerDescription"},o)),e,i.a.createElement("div",{className:"post__footer"},i.a.createElement(Y.a,{fontSize:"small"}),i.a.createElement(te.a,{fontSize:"small"}),i.a.createElement(ne.a,{fontSize:"small"}))))}}]),a}(i.a.Component),se=(a(1817),a(190)),re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addPost=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=function(e){n.setState({loading:!0});var t=n.state.idList.splice(Math.floor(Math.random()*n.state.idList.length),1),a=d.GET_WHOLE_TWEET_URL+t+"/";B.a.get(a).then((function(e){var a=e.data;if(a.username.startsWith("random:")){var i=D();a.username=i.username,a.displayName=i.displayName}a.image.startsWith("api:")&&(B.a.get(a.image.substring(4)).then((function(e){return a.image=e.data})).catch((function(e){return console.log(e+"\u2014retrieving from "+a.image.substring(4))})),a.image="https://media4.giphy.com/media/3oEjI6SIIHBdRxXI40/200.gif"),a.text.startsWith("[repeat]")&&(a.text=a.text.substring(8),n.state.idList.push(t)),n.setState({posts:n.state.posts.concat(a),loading:!1})})).catch((function(e){return"Error retrieving post: "+e}))},a=0;a<e&&n.state.idList.length>0;a++)t(a)},n.handleScroll=function(e){e.preventDefault();var t=Math.round(e.target.scrollHeight-e.target.scrollTop);n.state.idList.length>0?t<=Math.ceil(e.target.clientHeight)+300&&(!0===n.state.loading?!1===n.state.queue&&(n.state.queue=!0):n.addPost(2)):console.log("Out of posts!")},n.state={loading:!1,queue:!1,posts:[],idList:[],viewedList:[]},n.homeClick=n.homeClick.bind(Object(c.a)(n)),n.exploreClick=n.exploreClick.bind(Object(c.a)(n)),n.profileClick=n.profileClick.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t,a){return!this.state.loading}},{key:"componentDidMount",value:function(){this.addPost()}},{key:"componentDidUpdate",value:function(e){!0===this.state.queue&&(this.addPost(),this.state.queue=!1),e.viewer!==this.props.viewer&&this.updateIdList()}},{key:"updateIdList",value:function(){var e=this;this.setState({posts:[],loading:!0});var t=d.GET_IDs_FROM_VIEWER_URL+this.props.viewer+"/";console.log("Getting IDs from: "+t),B.a.get(t).then((function(t){var a=t.data;console.log(a),e.setState({idList:a}),e.setState({loading:!1}),e.addPost(6)})).catch((function(e){console.log(e)}))}},{key:"homeClick",value:function(){console.log("Clicked homeClick"),this.updateIdList(),window.scrollTo(0,0),window.scrollTo(0,0)}},{key:"exploreClick",value:function(){console.log("Clicked exploreClick")}},{key:"profileClick",value:function(){console.log("Clicked profileClick")}},{key:"render",value:function(){var e=this,t=null;return t=window.innerWidth>420?i.a.createElement("h2",null,"Home"):i.a.createElement("h2",null,i.a.createElement("div",{className:"topIconDiv"},i.a.createElement(f.a,{classname:"topIcon",onClick:this.homeClick}),i.a.createElement(_.a,{classname:"topIcon",onClick:this.exploreClick}),i.a.createElement(x.a,{classname:"topIcon",onClick:this.profileClick}))),i.a.createElement("div",{className:"feed",onScroll:this.handleScroll},i.a.createElement("div",{className:"feed__header"},t),i.a.createElement(se.a,null,this.state.posts.map((function(e,t){return i.a.createElement(ie,{key:t,username:e.username,displayName:e.displayName,verified:e.verified,text:e.text,explanation:e.explanation,avatar:e.avatar,image:e.image})}))),i.a.createElement("button",{onClick:function(){return e.forceUpdate},color:"--twitter-color"}," click "))}}]),a}(i.a.Component);a(1818);var oe=function(){return i.a.createElement("div",{className:"widgets"},i.a.createElement("div",{className:"widgets__widgetContainer"},i.a.createElement("h2",null,"What's happening")))},le=(a(1819),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={text:"",title:"",image_url:""},n}return Object(l.a)(a,[{key:"getArticle",value:function(){var e=this;console.log("Getting article "+this.props.id),B.a.get(d.GET_ARTICLE_FROM_ID_URL+this.props.id+"/").then((function(t){var a=t.data;e.setState({title:a.title,text:a.text}),e.forceUpdate()})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.getArticle()}},{key:"render",value:function(){return console.log("Article with id: "+this.props.id),i.a.createElement("html",{class:"wf-montserrat-n4-active wf-sourcesanspro-n2-active wf-active"},i.a.createElement("head",null,i.a.createElement("meta",{charset:"utf-8"}),i.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),i.a.createElement("script",{src:"http://use.edgefonts.net/montserrat:n4:default;source-sans-pro:n2:default.js",type:"text/javascript"})),i.a.createElement("body",{class:"mybody"},i.a.createElement("header",null,i.a.createElement("div",{class:"profileLogo",style:{height:"5vh"}},i.a.createElement("p",{class:"logoPlaceholder"},i.a.createElement("img",{src:"logoImage.png",alt:"logo"})))),i.a.createElement("section",{class:"mainContent"},i.a.createElement("section",{class:"section2"},i.a.createElement("article",{class:"section2Content"},i.a.createElement("h2",{class:"sectionContentTitle"},this.state.title),i.a.createElement("h3",{class:"sectionContentSubTitle"},M().toLocaleString()),i.a.createElement("hr",{class:"myhr"}),i.a.createElement("p",{class:"sectionContent"},this.state.text))))))}}]),a}(i.a.Component)),ce=(a(1820),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={viewerNum:0,viewersList:[]},n.nextViewer=n.nextViewer.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;"/"===window.location.pathname&&B.a.get(d.GET_VIEWERS_URL).then((function(t){e.setState({viewersList:t.data}),console.log("Recieved users: "+e.state.viewersList)})).catch((function(e){return console.log("Error retrieving viewers list: "+e)}))}},{key:"nextViewer",value:function(){window.scrollTo(0,0),this.state.viewerNum<=this.state.viewersList.length-2?this.setState({viewerNum:this.state.viewerNum+1}):this.setState({viewerNum:0}),console.log("Changed viewer to "+this.state.viewersList[this.state.viewerNum])}},{key:"render",value:function(){var e=window.location.pathname,t=null;if("/"===e&&(t=i.a.createElement("div",{className:"app"},i.a.createElement(z,{nextViewer:this.nextViewer}),i.a.createElement(re,{viewer:this.state.viewersList[this.state.viewerNum]}),i.a.createElement(oe,null))),e.startsWith("/news/")){var a=e.substr(6);a.endsWith("/")&&(a=a.substr(0,a.length-1)),t=i.a.createElement(le,{id:a})}return null==t&&(t=i.a.createElement("div",null,"Error 404: Not Found")),i.a.createElement("html",{lang:"en"},t)}}]),a}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},195:function(e,t,a){e.exports=a(1821)},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){}},[[195,14,15]]]);
//# sourceMappingURL=main.a8ba23ec.chunk.js.map